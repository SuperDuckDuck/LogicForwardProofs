theory Ex03
imports Main 
begin 

thm allE
lemma "(\<forall>x. P x \<longrightarrow> P(Q x)) \<and> P a \<longrightarrow> P (Q (Q a))" 
proof - 
{
  assume "(\<forall>x. P x \<longrightarrow> P(Q x)) \<and> P a"
  hence "\<forall>x. P x \<longrightarrow> P(Q x)" by (rule conjE)
  from \<open>(\<forall>x. P x \<longrightarrow> P(Q x)) \<and> P a\<close> have "P a" by (rule conjE)
  {
    fix b
    assume "P (Q b)"
    from \<open>\<forall>x. P x \<longrightarrow> P (Q x)\<close> have "P (Q b) \<longrightarrow> P (Q (Q b))" by (rule allE)
    from this and  \<open>P (Q b)\<close> have "P (Q (Q b))" by (rule impE)
  }